(function(e){function t(t){for(var a,i,n=t[0],s=t[1],c=t[2],d=0,p=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(p.length)p.shift()();return l.push.apply(l,c||[]),o()}function o(){for(var e,t=0;t<l.length;t++){for(var o=l[t],a=!0,n=1;n<o.length;n++){var s=o[n];0!==r[s]&&(a=!1)}a&&(l.splice(t--,1),e=i(i.s=o[0]))}return e}var a={},r={app:0},l=[];function i(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=a,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(o,a,function(t){return e[t]}.bind(null,a));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=s;l.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var a=o("85ec"),r=o.n(a);r.a},1642:function(e,t,o){e.exports=o.p+"img/adaprox_logo.7039d04f.png"},"188f":function(e,t,o){"use strict";var a=o("aff3"),r=o.n(a);r.a},2081:function(e,t,o){"use strict";var a=o("9a1d"),r=o.n(a);r.a},"387d":function(e,t,o){"use strict";var a=o("7c3d"),r=o.n(a);r.a},"56d7":function(e,t,o){"use strict";o.r(t);o("e623"),o("e379"),o("5dc8"),o("37e1");var a=o("2b0e"),r=o("8c4f"),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login_container"},[o("div",{staticClass:"login_box"},[e._m(0),o("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{"label-width":"0px",model:e.loginForm,rules:e.loginFormRules}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-message"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("Login")]),o("el-button",{attrs:{type:"info"},on:{click:e.resetLoginForm}},[e._v("Reset")])],1)],1)],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar_box"},[a("img",{attrs:{src:o("1642"),alt:""}})])}],n=o("6821"),s=o("bc3a").default,c={data:function(){return{loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"username should not be null",trigger:"blur"}],password:[{required:!0,message:"password please",trigger:"blur"}]}}},methods:{resetLoginForm:function(){this.loginForm.username="",this.loginForm.password="",this.$refs.loginFormRef.resetFields()},loginFailed:function(){console.log("登录错误"),this.$message({message:"账号密码错误！",type:"error"})},loginSucceeded:function(e){window.sessionStorage.setItem("myToken",e.data.accessToken),window.sessionStorage.setItem("userName",this.loginForm.username),this.$message({message:"登陆成功！",type:"success"}),console.log(window.sessionStorage.getItem("myToken")),$.push("/home")},login:function(){var e=this;this.$refs.loginFormRef.validate((function(t){if(console.log("login pressed"),t){var o={username:e.loginForm.username,passwordMd5:n(e.loginForm.password)},a=e;s.post("api/auth/signin",o).then((function(e){console.log(e.data.accessToken),a.loginSucceeded(e)})).catch((function(e){console.log(e),a.loginFailed()}))}}))}}},u=c,d=(o("188f"),o("2877")),p=Object(d["a"])(u,l,i,!1,null,"68927e18",null),m=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("el-container",{staticStyle:{height:"100%",border:"0px solid #eee"},attrs:{direction:"vertical"}},[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px",height:"140px"}},[a("img",{staticStyle:{width:"110px",height:"33px",position:"absolute",left:"40px",top:"50px"},attrs:{src:o("1642")}}),a("div",{staticClass:"user_name_text"},[e._v(" "+e._s(this.userName)+" ")]),a("div",{staticClass:"user_role_text"},[e._v(" 管理员 ")]),a("el-button",{staticClass:"logout_button",staticStyle:{position:"absolute",top:"45px",right:"40px",width:"96px",height:"38px","border-radius":"10px"},attrs:{type:"info",icon:"el-icon-switch-button"},on:{click:e.logout}},[e._v("登出")])],1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showProductRelatedButtons,expression:"showProductRelatedButtons"}],staticClass:"delete_site_button",staticStyle:{position:"absolute",right:"260px",top:"130px","border-radius":"10px",height:"38px",width:"96px"},attrs:{type:"info"},on:{click:e.productSwitchTemplateClicked}},[e._v("切换模板")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showProductRelatedButtons,expression:"showProductRelatedButtons"}],staticClass:"delete_site_button",staticStyle:{position:"absolute",right:"150px",top:"130px","border-radius":"10px",height:"38px",width:"96px"},attrs:{type:"info"},on:{click:e.deleteProductClicked}},[e._v("删除")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showProductRelatedButtons,expression:"showProductRelatedButtons"}],staticStyle:{position:"absolute",right:"40px",top:"130px","border-radius":"10px",height:"38px",width:"96px"},attrs:{type:"primary"},on:{click:e.createProductClicked}},[e._v("新增")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showLabelRelatedButtons,expression:"showLabelRelatedButtons"}],staticClass:"delete_site_button",staticStyle:{position:"absolute",right:"260px",top:"130px","border-radius":"10px",height:"38px",width:"96px"},attrs:{type:"info"},on:{click:e.bindLabelClicked}},[e._v("绑定")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showLabelRelatedButtons,expression:"showLabelRelatedButtons"}],staticClass:"delete_site_button",staticStyle:{position:"absolute",right:"150px",top:"130px","border-radius":"10px",height:"38px",width:"96px"},attrs:{type:"info"},on:{click:e.unbindLabelClicked}},[e._v("解绑")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showLabelRelatedButtons,expression:"showLabelRelatedButtons"}],staticStyle:{position:"absolute",right:"40px",top:"130px","border-radius":"10px",height:"38px",width:"96px"},attrs:{type:"primary"},on:{click:e.syncLabelsClicked}},[e._v("同步("+e._s(this.labelsToSyncCount)+")")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showTemplateRelatedButtons,expression:"showTemplateRelatedButtons"}],staticStyle:{position:"absolute",right:"40px",top:"130px","border-radius":"10px",height:"38px",width:"96px"},attrs:{type:"primary"},on:{click:e.createTemplateClicked}},[e._v("新增")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showTemplateRelatedButtons,expression:"showTemplateRelatedButtons"}],staticClass:"delete_site_button",staticStyle:{position:"absolute",right:"150px",top:"130px","border-radius":"10px",height:"38px",width:"96px"},attrs:{type:"info"},on:{click:e.deleteTemplateClicked}},[e._v("删除")]),a("el-dialog",{ref:"labelBindingDialog",attrs:{title:"更改绑定",visible:e.showBindLabelDialog,center:"","custom-class":"abow_dialog"},on:{"update:visible":function(t){e.showBindLabelDialog=t}}},[a("el-form",{ref:"labelBindingForm",attrs:{model:e.labelBindingForm,"label-position":e.top,rules:e.labelBindingRules}},[a("el-form-item",{attrs:{label:"商品条码",prop:"productBarcode"}},[a("el-input",{model:{value:e.labelBindingForm.barcode,callback:function(t){e.$set(e.labelBindingForm,"barcode",t)},expression:"labelBindingForm.barcode"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{position:"relative",width:"42.5%",right:"2.5%"},on:{click:function(t){e.showBindLabelDialog=!1}}},[e._v("取消")]),a("el-button",{staticStyle:{position:"relative",width:"42.5%",left:"2.5%"},attrs:{type:"primary"},on:{click:e.confirmLabelBinding}},[e._v("确 定")])],1)],1),a("el-dialog",{ref:"productSwitchTemplateDialog",attrs:{title:"切换模板",visible:e.showProductSwitchTemplateDialog,center:"","custom-class":"abow_dialog"},on:{"update:visible":function(t){e.showProductSwitchTemplateDialog=t}}},[a("el-form",{ref:"productSwitchTemplateForm",attrs:{model:e.productSwitchTemplateForm,"label-position":e.top,rules:e.productSwitchTemplateRules}},[a("el-form-item",{attrs:{label:"模板",prop:"templateId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择模板"},model:{value:e.productSwitchTemplateForm.templateId,callback:function(t){e.$set(e.productSwitchTemplateForm,"templateId",t)},expression:"productSwitchTemplateForm.templateId"}},e._l(e.templatesData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.template_name,value:e.id}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{position:"relative",width:"42.5%",right:"2.5%"},on:{click:function(t){e.showProductSwitchTemplateDialog=!1}}},[e._v("取消")]),a("el-button",{staticStyle:{position:"relative",width:"42.5%",left:"2.5%"},attrs:{type:"primary"},on:{click:e.confirmProductSwitchTemplate}},[e._v("确 定")])],1)],1),a("el-dialog",{ref:"createTemplateDialog",attrs:{title:"创建模板",visible:e.showCreateTemplateDialog,center:"","custom-class":"abow_dialog"},on:{"update:visible":function(t){e.showCreateTemplateDialog=t}}},[a("el-form",{ref:"createTemplateForm",attrs:{model:e.createTemplateForm,"label-position":e.top,rules:e.createTemplateRules}},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板名称",prop:"template_name"}},[a("el-input",{model:{value:e.createTemplateForm.template_name,callback:function(t){e.$set(e.createTemplateForm,"template_name",t)},expression:"createTemplateForm.template_name"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注",prop:"note"}},[a("el-input",{model:{value:e.createTemplateForm.note,callback:function(t){e.$set(e.createTemplateForm,"note",t)},expression:"createTemplateForm.note"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"21R_ID",prop:"wl_21r_id"}},[a("el-input",{model:{value:e.createTemplateForm.wl_21r_id,callback:function(t){e.$set(e.createTemplateForm,"wl_21r_id",t)},expression:"createTemplateForm.wl_21r_id"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"21B_ID",prop:"wl_21b_id"}},[a("el-input",{model:{value:e.createTemplateForm.wl_21b_id,callback:function(t){e.$set(e.createTemplateForm,"wl_21b_id",t)},expression:"createTemplateForm.wl_21b_id"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{position:"relative",width:"42.5%",right:"2.5%"},on:{click:function(t){return e.resetForm("createTemplateForm")}}},[e._v("重 置")]),a("el-button",{staticStyle:{position:"relative",width:"42.5%",left:"2.5%"},attrs:{type:"primary"},on:{click:e.confirmCreateTemplate}},[e._v("确 定")])],1)],1),a("el-dialog",{ref:"modifyTemplateDialog",attrs:{title:"修改模板",visible:e.showModifyTemplateDialog,center:"","custom-class":"abow_dialog"},on:{"update:visible":function(t){e.showModifyTemplateDialog=t}}},[a("el-form",{ref:"modifyTemplateForm",attrs:{model:e.modifyTemplateForm,"label-position":e.top,rules:e.createTemplateRules}},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板名称",prop:"template_name"}},[a("el-input",{model:{value:e.modifyTemplateForm.template_name,callback:function(t){e.$set(e.modifyTemplateForm,"template_name",t)},expression:"modifyTemplateForm.template_name"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注",prop:"note"}},[a("el-input",{model:{value:e.modifyTemplateForm.note,callback:function(t){e.$set(e.modifyTemplateForm,"note",t)},expression:"modifyTemplateForm.note"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"21R_ID",prop:"wl_21r_id"}},[a("el-input",{model:{value:e.modifyTemplateForm.wl_21r_id,callback:function(t){e.$set(e.modifyTemplateForm,"wl_21r_id",t)},expression:"modifyTemplateForm.wl_21r_id"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"21B_ID",prop:"wl_21b_id"}},[a("el-input",{model:{value:e.modifyTemplateForm.wl_21b_id,callback:function(t){e.$set(e.modifyTemplateForm,"wl_21b_id",t)},expression:"modifyTemplateForm.wl_21b_id"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{position:"relative",width:"42.5%",right:"2.5%"},on:{click:function(t){e.showModifyTemplateDialog=!1}}},[e._v("取消")]),a("el-button",{staticStyle:{position:"relative",width:"42.5%",left:"2.5%"},attrs:{type:"primary"},on:{click:e.confirmModifyTemplate}},[e._v("确 定")])],1)],1),a("el-dialog",{ref:"createProductDialog",attrs:{title:"创建商品",visible:e.showCreateProductDialog,center:"","custom-class":"class1"},on:{"update:visible":function(t){e.showCreateProductDialog=t}}},[a("el-form",{ref:"createProductForm",attrs:{model:e.createProductForm,"label-position":e.top,rules:e.createProductRules}},[a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{model:{value:e.createProductForm.name,callback:function(t){e.$set(e.createProductForm,"name",t)},expression:"createProductForm.name"}})],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"SKU",prop:"sku"}},[a("el-input",{model:{value:e.createProductForm.sku,callback:function(t){e.$set(e.createProductForm,"sku",t)},expression:"createProductForm.sku"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"尺码",prop:"size"}},[a("el-input",{model:{value:e.createProductForm.size,callback:function(t){e.$set(e.createProductForm,"size",t)},expression:"createProductForm.size"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"现价",prop:"currentPrice"}},[a("el-input",{on:{input:function(t){e.createProductForm.currentPrice=t.replace(/[^0-9.]/g,"").replace(".","#*").replace(/\./g,"").replace("#*",".")}},model:{value:e.createProductForm.currentPrice,callback:function(t){e.$set(e.createProductForm,"currentPrice",t)},expression:"createProductForm.currentPrice"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原价",prop:"originalPrice"}},[a("el-input",{on:{input:function(t){e.createProductForm.originalPrice=t.replace(/[^0-9.]/g,"").replace(".","#*").replace(/\./g,"").replace("#*",".")}},model:{value:e.createProductForm.originalPrice,callback:function(t){e.$set(e.createProductForm,"originalPrice",t)},expression:"createProductForm.originalPrice"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板",prop:"templateId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择模板"},model:{value:e.createProductForm.templateId,callback:function(t){e.$set(e.createProductForm,"templateId",t)},expression:"createProductForm.templateId"}},e._l(e.templatesData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.template_name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"库存",prop:"stock"}},[a("el-input",{model:{value:e.createProductForm.stock,callback:function(t){e.$set(e.createProductForm,"stock",e._n(t))},expression:"createProductForm.stock"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"条形码",prop:"barcode"}},[a("el-input",{model:{value:e.createProductForm.barcode,callback:function(t){e.$set(e.createProductForm,"barcode",t)},expression:"createProductForm.barcode"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"条形码文本",prop:"barcodeText"}},[a("el-input",{model:{value:e.createProductForm.barcodeText,callback:function(t){e.$set(e.createProductForm,"barcodeText",t)},expression:"createProductForm.barcodeText"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"二维码",prop:"qrcode"}},[a("el-input",{model:{value:e.createProductForm.qrcode,callback:function(t){e.$set(e.createProductForm,"qrcode",t)},expression:"createProductForm.qrcode"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"二维码文本",prop:"qrcodeText"}},[a("el-input",{model:{value:e.createProductForm.qrcodeText,callback:function(t){e.$set(e.createProductForm,"qrcodeText",t)},expression:"createProductForm.qrcodeText"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留1",prop:"r1"}},[a("el-input",{model:{value:e.createProductForm.r1,callback:function(t){e.$set(e.createProductForm,"r1",t)},expression:"createProductForm.r1"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留2",prop:"r2"}},[a("el-input",{model:{value:e.createProductForm.r2,callback:function(t){e.$set(e.createProductForm,"r2",t)},expression:"createProductForm.r2"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留3",prop:"r3"}},[a("el-input",{model:{value:e.createProductForm.r3,callback:function(t){e.$set(e.createProductForm,"r3",t)},expression:"createProductForm.r3"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留4",prop:"r4"}},[a("el-input",{model:{value:e.createProductForm.r4,callback:function(t){e.$set(e.createProductForm,"r4",t)},expression:"createProductForm.r4"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留5",prop:"r5"}},[a("el-input",{model:{value:e.createProductForm.r5,callback:function(t){e.$set(e.createProductForm,"r5",t)},expression:"createProductForm.r5"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留6",prop:"r6"}},[a("el-input",{model:{value:e.createProductForm.r6,callback:function(t){e.$set(e.createProductForm,"r6",t)},expression:"createProductForm.r6"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留7",prop:"r7"}},[a("el-input",{model:{value:e.createProductForm.r7,callback:function(t){e.$set(e.createProductForm,"r7",t)},expression:"createProductForm.r7"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留8",prop:"r8"}},[a("el-input",{model:{value:e.createProductForm.r8,callback:function(t){e.$set(e.createProductForm,"r8",t)},expression:"createProductForm.r8"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{position:"relative",width:"42.5%",right:"2.5%"},on:{click:function(t){return e.resetForm("createProductForm")}}},[e._v("重 置")]),a("el-button",{staticStyle:{position:"relative",width:"42.5%",left:"2.5%"},attrs:{type:"primary"},on:{click:e.confirmCreateProduct}},[e._v("确 定")])],1)],1),a("el-dialog",{ref:"modifyProductDialog",attrs:{title:"修改商品",visible:e.showModifyProductDialog,center:"","custom-class":"abow_dialog"},on:{"update:visible":function(t){e.showModifyProductDialog=t}}},[a("el-form",{ref:"modifyProductForm",attrs:{model:e.modifyProductForm,"label-position":e.top,rules:e.createProductRules}},[a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{model:{value:e.modifyProductForm.name,callback:function(t){e.$set(e.modifyProductForm,"name",t)},expression:"modifyProductForm.name"}})],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"SKU",prop:"sku"}},[a("el-input",{model:{value:e.modifyProductForm.sku,callback:function(t){e.$set(e.modifyProductForm,"sku",t)},expression:"modifyProductForm.sku"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"尺码",prop:"size"}},[a("el-input",{model:{value:e.modifyProductForm.size,callback:function(t){e.$set(e.modifyProductForm,"size",t)},expression:"modifyProductForm.size"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"现价",prop:"currentPrice"}},[a("el-input",{on:{input:function(t){e.modifyProductForm.currentPrice=t.replace(/[^0-9.]/g,"").replace(".","#*").replace(/\./g,"").replace("#*",".")}},model:{value:e.modifyProductForm.currentPrice,callback:function(t){e.$set(e.modifyProductForm,"currentPrice",t)},expression:"modifyProductForm.currentPrice"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原价",prop:"originalPrice"}},[a("el-input",{on:{input:function(t){e.modifyProductForm.originalPrice=t.replace(/[^0-9.]/g,"").replace(".","#*").replace(/\./g,"").replace("#*",".")}},model:{value:e.modifyProductForm.originalPrice,callback:function(t){e.$set(e.modifyProductForm,"originalPrice",t)},expression:"modifyProductForm.originalPrice"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板",prop:"templateId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择模板"},model:{value:e.modifyProductForm.templateId,callback:function(t){e.$set(e.modifyProductForm,"templateId",t)},expression:"modifyProductForm.templateId"}},e._l(e.templatesData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.template_name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"库存",prop:"stock"}},[a("el-input",{model:{value:e.modifyProductForm.stock,callback:function(t){e.$set(e.modifyProductForm,"stock",e._n(t))},expression:"modifyProductForm.stock"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"条形码",prop:"barcode"}},[a("el-input",{attrs:{disabled:""},model:{value:e.modifyProductForm.barcode,callback:function(t){e.$set(e.modifyProductForm,"barcode",t)},expression:"modifyProductForm.barcode"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"条形码文本",prop:"barcodeText"}},[a("el-input",{model:{value:e.modifyProductForm.barcodeText,callback:function(t){e.$set(e.modifyProductForm,"barcodeText",t)},expression:"modifyProductForm.barcodeText"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"二维码",prop:"qrcode"}},[a("el-input",{model:{value:e.modifyProductForm.qrcode,callback:function(t){e.$set(e.modifyProductForm,"qrcode",t)},expression:"modifyProductForm.qrcode"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"二维码文本",prop:"qrcodeText"}},[a("el-input",{model:{value:e.modifyProductForm.qrcodeText,callback:function(t){e.$set(e.modifyProductForm,"qrcodeText",t)},expression:"modifyProductForm.qrcodeText"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留1",prop:"r1"}},[a("el-input",{model:{value:e.modifyProductForm.r1,callback:function(t){e.$set(e.modifyProductForm,"r1",t)},expression:"modifyProductForm.r1"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留2",prop:"r2"}},[a("el-input",{model:{value:e.modifyProductForm.r2,callback:function(t){e.$set(e.modifyProductForm,"r2",t)},expression:"modifyProductForm.r2"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留3",prop:"r3"}},[a("el-input",{model:{value:e.modifyProductForm.r3,callback:function(t){e.$set(e.modifyProductForm,"r3",t)},expression:"modifyProductForm.r3"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留4",prop:"r4"}},[a("el-input",{model:{value:e.modifyProductForm.r4,callback:function(t){e.$set(e.modifyProductForm,"r4",t)},expression:"modifyProductForm.r4"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留5",prop:"r5"}},[a("el-input",{model:{value:e.modifyProductForm.r5,callback:function(t){e.$set(e.modifyProductForm,"r5",t)},expression:"modifyProductForm.r5"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留6",prop:"r6"}},[a("el-input",{model:{value:e.modifyProductForm.r6,callback:function(t){e.$set(e.modifyProductForm,"r6",t)},expression:"modifyProductForm.r6"}})],1)],1)],1),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留7",prop:"r7"}},[a("el-input",{model:{value:e.modifyProductForm.r7,callback:function(t){e.$set(e.modifyProductForm,"r7",t)},expression:"modifyProductForm.r7"}})],1)],1),a("el-col",{attrs:{span:3}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预留8",prop:"r8"}},[a("el-input",{model:{value:e.modifyProductForm.r8,callback:function(t){e.$set(e.modifyProductForm,"r8",t)},expression:"modifyProductForm.r8"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{position:"relative",width:"42.5%",right:"2.5%"},on:{click:function(t){e.showModifyProductDialog=!1}}},[e._v("取消")]),a("el-button",{staticStyle:{position:"relative",width:"42.5%",left:"2.5%"},attrs:{type:"primary"},on:{click:e.confirmModifyProduct}},[e._v("确 定")])],1)],1),a("el-tabs",{staticStyle:{"padding-left":"40px","padding-right":"40px"},on:{"tab-click":e.handleTabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"商品",name:"tab_products"}},[e.showTable?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.product_table_loading,expression:"product_table_loading"}],ref:"multipleTable",attrs:{data:e.productsData,height:"70vh","tooltip-effect":"dark","row-class-name":e.productRowStyle,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleProductsSelectionChange}},[a("el-table-column",{attrs:{fixed:"left",type:"selection"}}),a("el-table-column",{attrs:{prop:"barcode",label:"条码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"sku",label:"SKU","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"size",label:"尺码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"currentPrice",label:"现价","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"originalPrice",label:"原价","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"templateName",label:"模板名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"stock",label:"库存","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-edit",on:{click:function(o){return e.modifyProductClicked(t.row)}}})]}}],null,!1,4101783309)})],1):e._e(),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.productPaginationCurrentPage,"page-sizes":[10,20,50,100,200],"page-size":e.productPaginationCurrentSize,layout:"sizes, prev, pager, next",total:e.totalProductCount},on:{"size-change":e.handleProductPaginationSizeChange,"current-change":e.handleProductPaginationCurrentPageChange,"update:currentPage":function(t){e.productPaginationCurrentPage=t},"update:current-page":function(t){e.productPaginationCurrentPage=t}}})],1)],1),a("el-tab-pane",{attrs:{label:"标签",name:"tab_labels"}},[e.showTable?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.label_table_loading,expression:"label_table_loading"}],ref:"labelTable",attrs:{data:e.labelsData,height:"70vh","tooltip-effect":"dark","row-class-name":e.labelRowStyle,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleLabelsSelectionChange}},[a("el-table-column",{attrs:{fixed:"left",type:"selection"}}),a("el-table-column",{attrs:{prop:"label_barcode",label:"标签条形码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"product_barcode",label:"商品条形码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"status",label:"绑定状态","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"online_status",label:"在线状态","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"spec",label:"规格","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"battery",label:"电量","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"ap_name",label:"网关名称","show-overflow-tooltip":""}})],1):e._e(),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.labelPaginationCurrentPage,"page-sizes":[10,20,50,100,200],"page-size":e.labelPaginationCurrentSize,layout:"sizes, prev, pager, next",total:e.totalLabelCount},on:{"size-change":e.handleLabelPaginationSizeChange,"current-change":e.handleLabelPaginationCurrentPageChange,"update:currentPage":function(t){e.labelPaginationCurrentPage=t},"update:current-page":function(t){e.labelPaginationCurrentPage=t}}})],1)],1),a("el-tab-pane",{attrs:{label:"模板",name:"tab_templates"}},[e.showTable?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.template_table_loading,expression:"template_table_loading"}],ref:"adTable",attrs:{data:e.templatesData,height:"70vh","tooltip-effect":"dark","row-class-name":e.templateRowStyle,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleTemplatesSelectionChange}},[a("el-table-column",{attrs:{fixed:"left",type:"selection"}}),a("el-table-column",{attrs:{prop:"id",label:"模板ID","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"template_name",label:"模板名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"wl_21r_id",label:"21R_ID","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"wl_21b_id",label:"21B_ID","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"note",label:"备注","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-edit",on:{click:function(o){return e.modifyTemplateClicked(t.row)}}})]}}],null,!1,3316474518)})],1):e._e(),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.templatePaginationCurrentPage,"page-sizes":[10,20,30,40,50,100],"page-size":e.templatePaginationCurrentSize,layout:"sizes, prev, pager, next",total:e.totalTemplateCount},on:{"size-change":e.handleTemplatePaginationSizeChange,"current-change":e.handleTemplatePaginationCurrentPageChange,"update:currentPage":function(t){e.templatePaginationCurrentPage=t},"update:current-page":function(t){e.templatePaginationCurrentPage=t}}})],1)],1)],1)],1)],1)},g=[],h=(o("b0c0"),o("d3b7"),o("25f0"),o("bc3a").default),b={name:"Home",props:{msg:String},created:function(){this.fetchData()},data:function(){return{showTable:!0,showCreateProductDialog:!1,showCreateTemplateDialog:!1,showModifyProductDialog:!1,showModifyTemplateDialog:!1,showBindLabelDialog:!1,showProductRelatedButtons:!0,showTemplateRelatedButtons:!1,showLabelRelatedButtons:!1,showProductSwitchTemplateDialog:!1,label_table_loading:!1,template_table_loading:!1,activeName:"tab_products",showPagination:!0,totalProductCount:1,totalLabelCount:1,totalTemplateCount:1,productPaginationCurrentPage:1,productPaginationCurrentSize:10,templatePaginationCurrentPage:1,templatePaginationCurrentSize:10,labelPaginationCurrentPage:1,labelPaginationCurrentSize:10,labelsToSyncCount:0,userName:window.sessionStorage.getItem("userName"),headers:{Authorization:"Bearer "+window.sessionStorage.getItem("myToken")},productsData:[],labelsData:[],templatesData:[],product_table_loading:!0,productsSelection:[],labelSelection:[],templateSelection:[],param_for_querying_labels:{page:1,size:1e3,storeUuid:"0108"},param_for_querying_gateways:{page:1,size:1e3,storeUuid:"0108"},modifyProductForm:{},labelBindingForm:{barcode:""},createProductForm:{barcode:"",name:"",sku:"",size:"",originalPrice:0,currentPrice:0,templateId:"",templateName:"",barcodeText:"",qrcode:"",qrcodeText:"",r1:"",r2:"",r3:"",r4:"",r5:"",r6:"",r7:"",r8:"",r9:"",r10:"",stock:0,createTime:""},modifyTemplateForm:{},productSwitchTemplateForm:{templateId:""},createTemplateForm:{template_name:"",note:"",wl_21r_id:"",wl_21b_id:""},formLabelWidth:"120px",createProductRules:{name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],originalPrice:[{required:!0,message:"请输入商品原价",trigger:"blur"}],currentPrice:[{required:!0,message:"请输入商品现价",trigger:"blur"}],templateId:[{required:!0,message:"请选择模板",trigger:"blur"}],barcode:[{required:!0,message:"请输入条形码",trigger:"blur"}],stock:[{type:"number",message:"库存必须为整数"}]},createTemplateRules:{template_name:[{required:!0,message:"请输入模板名称",trigger:"blur"}],wl_21b_id:[{required:!0,message:"请输入黑白模板ID",trigger:"blur"}],wl_21r_id:[{required:!0,message:"请输入红色模板ID",trigger:"blur"}]},productSwitchTemplateRules:{templateId:[{required:!0,message:"请选择模板",trigger:"blur"}]},labelBindingRules:{barcode:[{required:!0,message:"请选择商品",trigger:"blur"}]}}},methods:{logout:function(){console.log("logout pressed"),window.sessionStorage.removeItem("myToken"),$.push("/login")},fetchData:function(){this.fetchProducts(),this.fetchLabels(),this.fetchTemplates()},fetchTotalCounts:function(){this.product_table_loading=!0;var e=this;h.get("api/hanger/query_total_counts",{headers:this.headers}).then((function(t){if(200!=t.status)return e.product_table_loading=!1,e.product_table_loading=!1,e.$message.error("信息拉取失败"),void console.log("count fetching failed");e.totalProductCount=t.data.productCount,e.totalTemplateCount=t.data.templateCount,e.totalLabelCount=t.data.labelCount,console.log(t.data)}))},fetchProducts:function(){this.fetchTotalCounts(),this.product_table_loading=!0;var e=this;h.get("api/hanger/product/query",{headers:this.headers,params:{size:this.productPaginationCurrentSize,page:this.productPaginationCurrentPage}}).then((function(t){if(200!=t.status)return e.product_table_loading=!1,e.$message.error("信息拉取失败"),void console.log("product fetching failed");console.log(t),e.product_table_loading=!1;var o=t.data;e.productsData=[];for(var a=0;a<o.length;a++){var r=o[a];e.productsData.push({barcode:r.barcode,name:r.name,sku:r.sku,size:r.size,originalPrice:r.originalPrice,currentPrice:r.currentPrice,templateId:r.templateId,templateName:r.templateName,barcodeText:r.barcodeText,qrcode:r.qrcode,qrcodeText:r.qrcodeText,r1:r.r1,r2:r.r2,r3:r.r3,r4:r.r4,r5:r.r5,r6:r.r6,r7:r.r7,r8:r.r8,r9:r.r9,r10:r.r10,stock:r.stock,createTime:r.createTime})}}))},fetchLabels:function(){var e=this;this.label_table_loading=!0;var t=this;this.labelsToSyncCount=0,h.get("api/hanger/label/query",{headers:this.headers,params:{page:t.labelPaginationCurrentPage,size:t.labelPaginationCurrentSize}}).then((function(o){if(t.label_table_loading=!1,200!=o.status)return t.$message.error("价签拉取失败"),void console.log("label fetching failed");var a=o.data;t.labelsData=[];for(var r=0;r<a.length;r++){var l=a[r],i="未知";null==l.product_code&&1001==l.action?(i="待触发解绑",e.labelsToSyncCount+=1):null!=l.product_code&&1001==l.action?(i="待触发刷新",e.labelsToSyncCount+=1):1e3==l.action?i="刷新中":0==l.action?i="正常":200==l.action&&(i="错误");var n="未知";1==l.online?n="在线":0==l.online&&(n="离线"),t.labelsData.push({label_barcode:l.esl_code,product_barcode:l.product_code,spec:l.esl_version,battery:l.esl_battery,ap_name:l.ap_code,online_status:n,status:i})}e.$refs.labelTable.doLayout()}))},fetchTemplates:function(){this.template_table_loading=!0;var e=this;h.get("api/hanger/template/query",{headers:this.headers}).then((function(t){if(e.template_table_loading=!1,200!=t.status)return e.$message.error("模板拉取失败"),void console.log("template fetching failed");var o=t.data;e.templatesData=[];for(var a=0;a<o.length;a++){var r=o[a];e.templatesData.push({id:r.templateId,template_name:r.name,wl_21r_id:r.wl_21r_id,wl_21b_id:r.wl_21b_id,note:r.note})}}))},createProductClicked:function(){this.createProductForm={barcode:"",name:"",sku:"",size:"",originalPrice:0,currentPrice:0,templateId:"",templateName:"",barcodeText:"",qrcode:"",qrcodeText:"",r1:"",r2:"",r3:"",r4:"",r5:"",r6:"",r7:"",r8:"",r9:"",r10:"",stock:0,createTime:""},this.showCreateProductDialog=!0},createTemplateClicked:function(){this.createTemplateForm={template_name:"",note:"",wl_21r_id:"",wl_21b_id:""},this.showCreateTemplateDialog=!0},modifyProductClicked:function(e){this.modifyProductForm=Object.assign({},e),this.showModifyProductDialog=!0},confirmModifyProduct:function(){var e=this;h.post("api/hanger/product/update",this.modifyProductForm,{headers:this.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("修改成功"):e.$message.error("修改失败"),e.fetchProducts(),e.showModifyProductDialog=!1}))},productSwitchTemplateClicked:function(){this.productsSelection.length<1?this.$message.error("请至少选择一个商品"):(this.productSwitchTemplateForm.templateId="",this.showProductSwitchTemplateDialog=!0)},deleteProductClicked:function(){var e=this;this.productsSelection.length<1?this.$message.error("请至少选择一个商品"):this.$confirm("确认删除所选商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t=[],o=0;o<e.productsSelection.length;o++)t.push(e.productsSelection[o].barcode);h.post("api/hanger/product/remove",{barcodes:t},{headers:e.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("删除成功"):e.$message.error("删除失败"),e.fetchTotalCounts(),e.fetchProducts()}))}))},deleteTemplateClicked:function(){var e=this;this.templateSelection.length<1?this.$message.error("请至少选择一个模板"):this.$confirm("确认删除所选模板？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t=[],o=0;o<e.templateSelection.length;o++)t.push(e.templateSelection[o].id);h.post("api/hanger/template/remove",{templateIds:t},{headers:e.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("删除成功"):e.$message.error("删除失败"),e.fetchTotalCounts(),e.fetchTemplates()}))}))},modifyTemplateClicked:function(e){this.modifyTemplateForm=Object.assign({},e),this.showModifyTemplateDialog=!0},confirmModifyTemplate:function(){var e=this;h.post("api/hanger/template/update",this.modifyTemplateForm,{headers:this.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("修改成功"):e.$message.error("修改失败"),e.fetchTemplates(),e.showModifyTemplateDialog=!1}))},getCurrentDateTime:function(){var e=new Date,t=e.getFullYear(),o=e.getMonth()+1,a=e.getDate(),r=e.getHours(),l=e.getMinutes(),i=e.getSeconds();1==o.toString().length&&(o="0"+o),1==a.toString().length&&(a="0"+a),1==r.toString().length&&(r="0"+r),1==l.toString().length&&(l="0"+l),1==i.toString().length&&(i="0"+i);var n=t+"/"+o+"/"+a+" "+r+":"+l+":"+i;return n},confirmCreateProduct:function(){var e=this;this.$refs["createProductForm"].validate((function(t){console.log("confirmCreateProduct triggered"),console.log("valid: "+t),e.createProductForm.currentPrice=parseFloat(e.createProductForm.currentPrice),e.createProductForm.originalPrice=parseFloat(e.createProductForm.originalPrice),console.log("现价 ",e.createProductForm.currentPrice),console.log("原价 ",e.createProductForm.originalPrice),t&&(e.showCreateProductDialog=!1,e.createProductForm.createTime=e.getCurrentDateTime(),console.log(e.createProductForm),h.post("api/hanger/product/create",e.createProductForm,{headers:e.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("添加成功"):e.$message.error("添加失败"),e.fetchTotalCounts(),e.fetchProducts()})))}))},confirmProductSwitchTemplate:function(){var e=this;this.$refs["productSwitchTemplateForm"].validate((function(t){if(console.log("confirmProductSwitchTemplate triggered"),console.log("valid: "+t),t){e.showProductSwitchTemplateDialog=!1,console.log(e.productSwitchTemplateForm);for(var o=[],a=0;a<e.productsSelection.length;a++)o.push(e.productsSelection[a].barcode);h.post("api/hanger/product/switch_template",{barcodes:o,templateId:e.productSwitchTemplateForm.templateId},{headers:e.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("修改成功"):e.$message.error("修改失败"),e.fetchProducts()}))}}))},confirmCreateTemplate:function(){var e=this;this.$refs["createTemplateForm"].validate((function(t){console.log("confirmCreateTemplate triggered"),console.log("valid: "+t),t&&(e.showCreateTemplateDialog=!1,console.log(e.createTemplateForm),h.post("api/hanger/template/create",e.createTemplateForm,{headers:e.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("添加成功"):e.$message.error("添加失败"),e.fetchTotalCounts(),e.fetchTemplates()})))}))},reloadTable:function(){var e=this;this.showTable=!1,this.$nextTick((function(){e.showTable=!0}))},bindLabelClicked:function(){this.labelSelection.length<1?this.$message.error("请至少选择一个价签"):(this.labelBindingForm={barcode:""},this.showBindLabelDialog=!0)},confirmLabelBinding:function(){var e=this;this.$refs["labelBindingForm"].validate((function(t){if(console.log("confirmLabelBinding triggered"),console.log("valid: "+t),t){e.showBindLabelDialog=!1;for(var o=[],a=0;a<e.labelSelection.length;a++)o.push(e.labelSelection[a].label_barcode);h.post("api/hanger/label/bind",{labelCodes:o,productBarcode:e.labelBindingForm.barcode},{headers:e.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("绑定成功"):e.$message.error("绑定失败"),e.fetchLabels()}))}}))},unbindLabelClicked:function(){var e=this;this.labelSelection.length<1?this.$message.error("请至少选择一个价签"):this.$confirm("确认解绑所选价签？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t=[],o=0;o<e.labelSelection.length;o++)t.push(e.labelSelection[o].label_barcode);h.post("api/hanger/label/unbind",{labelCodes:t},{headers:e.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("解绑成功"):e.$message.error("解绑失败"),e.fetchLabels()}))}))},syncLabelsClicked:function(){var e=this;h.post("api/hanger/label/sync_binding",{},{headers:this.headers}).then((function(t){console.log(t),200==t.status&&1==t.data?e.$message.success("同步指令下发成功"):e.$message.error("同步指令下发失败"),e.fetchLabels()}))},handleProductsSelectionChange:function(e){this.productsSelection=e},handleLabelsSelectionChange:function(e){this.labelSelection=e},handleTemplatesSelectionChange:function(e){this.templateSelection=e},handleTabChange:function(e,t){console.log(e),this.showProductRelatedButtons="tab_products"==this.activeName,this.showTemplateRelatedButtons="tab_templates"==this.activeName,this.showLabelRelatedButtons="tab_labels"==this.activeName,"tab_products"==this.activeName?this.fetchProducts():"tab_templates"==this.activeName?this.fetchTemplates():"tab_labels"==this.activeName&&this.fetchLabels()},handleProductPaginationSizeChange:function(e){this.productPaginationCurrentSize=e,this.productPaginationCurrentPage=1,console.log("每页 ".concat(e," 条")),this.fetchProducts()},handleProductPaginationCurrentPageChange:function(e){this.productPaginationCurrentPage=e,console.log("当前页: ".concat(e)),this.fetchProducts()},handleTemplatePaginationSizeChange:function(e){this.templatePaginationCurrentSize=e,this.templatePaginationCurrentPage=1,console.log("每页 ".concat(e," 条"))},handleTemplatePaginationCurrentPageChange:function(e){this.templatePaginationCurrentPage=e,console.log("当前页: ".concat(e))},handleLabelPaginationSizeChange:function(e){this.labelPaginationCurrentSize=e,this.labelPaginationCurrentPage=1,console.log("每页 ".concat(e," 条")),this.fetchLabels()},handleLabelPaginationCurrentPageChange:function(e){this.labelPaginationCurrentPage=e,console.log("当前页: ".concat(e)),this.fetchLabels()},productRowStyle:function(e){for(var t=e.row,o=(e.rowIndex,0);o<this.productsSelection.length;o++)if(t.barcode===this.productsSelection[o].barcode)return"selectedStyle"},labelRowStyle:function(e){for(var t=e.row,o=(e.rowIndex,0);o<this.labelSelection.length;o++)if(t.label_barcode===this.labelSelection[o].label_barcode)return"selectedStyle"},templateRowStyle:function(e){for(var t=e.row,o=(e.rowIndex,0);o<this.templateSelection.length;o++)if(t.id===this.templateSelection[o].id)return"selectedStyle"},resetForm:function(e){this.$refs[e].resetFields()}}},P=b,w=(o("387d"),o("2081"),Object(d["a"])(P,f,g,!1,null,"6098a230",null)),v=w.exports,y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",[o("el-col",{attrs:{span:24}},[o("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"用户管理",name:"first"}},[e._v("1")]),o("el-tab-pane",{attrs:{label:"配置管理",name:"second"}},[e._v("2")]),o("el-tab-pane",{attrs:{label:"角色管理",name:"third"}},[e._v("3")]),o("el-tab-pane",{attrs:{label:"定时任务补偿",name:"fourth"}},[e._v("4")])],1)],1)],1)},_=[],F={data:function(){return{name:"test",activeName:"second"}},methods:{handleClick:function(e,t){console.log(e,t)}}},x=F,T=Object(d["a"])(x,y,_,!1,null,"4659ba96",null),k=T.exports;a["default"].use(r["a"]);var C=[{path:"",component:m,meta:{title:"登录-Adaprox衣架后台"}},{path:"/login",component:m,meta:{title:"登录-Adaprox衣架后台"}},{path:"/home",component:v,meta:{title:"主页-Adaprox衣架后台"}},{path:"/test",component:k,meta:{title:"Test-Adaprox衣架后台"}}],S=new r["a"]({routes:C});S.beforeEach((function(e,t,o){var a=window.sessionStorage.getItem("myToken");return"/login"===e.path?a?o(!1):(document.title=e.meta.title,o()):a?(document.title=e.meta.title,void o()):(document.title="登录-Adaprox衣架后台",o("/login"))}));var $=S,D=o("bc3a"),B=o.n(D),z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},R=[],L={name:"app",components:{}},I=L,q=(o("034f"),Object(d["a"])(I,z,R,!1,null,null,null)),N=q.exports,M=(o("aede"),o("a83d"),o("5c96")),O=o.n(M),j=o("e6d1"),A=o.n(j);a["default"].use(O.a),a["default"].use(A.a),a["default"].config.productionTip=!1,B.a.defaults.baseURL="http://81.69.232.239:8080",new a["default"]({router:$,render:function(e){return e(N)}}).$mount("#app")},"7c3d":function(e,t,o){},"85ec":function(e,t,o){},"9a1d":function(e,t,o){},a83d:function(e,t,o){},aede:function(e,t,o){},aff3:function(e,t,o){}});
//# sourceMappingURL=app.9edace3d.js.map